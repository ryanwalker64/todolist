(()=>{"use strict";class t{constructor(t,e,s,i){this.title=t,this.dueDate=s,this.id=Date.now().toString(),this.complete=!1}setTitle(t){this.title=t}getTitle(){return this.title}getId(){return this.id}setDueDate(t){this.dueDate=t}getDueDate(){return this.dueDate}getDOMElement(){return`<li class='taskItem' tabIndex="-1">\n                    <div class="checkbox-custom" data-checked="${this.complete}" data-taskid="${this.id}"></div>\n                    <p>${this.title}</p>\n                </li>`}addEventListener(){}toggleComplete(){this.complete=!this.complete}}class e{constructor(t,e){this.title=t,this.tasks=[],this.id=Date.now().toString(),this.activeProject=!0}setTitle(t){this.title=t}getTitle(){return this.title}getTasks(){return this.tasks}addTaskToProject(t){this.tasks.push(t),this.addTasksToDOM()}addTasksToDOM(){const t=document.getElementById("container"),e=this.tasks.map((t=>t.getDOMElement())).join("");t.innerHTML=e}setAsActiveProject(){this.activeProject=!0;const t=document.getElementById("activeProject");t.setAttribute("data-activeProject",this.id),t.textContent=this.title,this.addTasksToDOM()}getTaskInProject(t){const e=this.tasks.findIndex((e=>e.id===t));return this.tasks[e]}}const s=document.getElementById("new-task"),i=document.querySelector('[name="Title"]'),c=document.getElementById("container"),o=new class{constructor(){this.projects=[]}findActiveProject(){const t=this.projects.findIndex((t=>!0===t.activeProject));return this.projects[t]}findProject(t){const e=this.projects.findIndex((e=>e.id===t));return this.projects[e]}addProjectToList(t){this.deactiveAllProjects(),this.projects.push(t),console.log(this.projects),this.updateProjectsSidebar(),t.setAsActiveProject()}deactiveAllProjects(){this.projects.map((t=>{t.activeProject=!1}))}updateProjectsSidebar(){const t=document.querySelector(".sideBarProjectsList"),e=this.projects.map((t=>`<li class="projectTitle" data-projectId="${t.id}" data-activeproject="${t.activeProject}">${t.title}</li>`)).join("");t.innerHTML=e,this.addEventListenersToProjects()}addEventListenersToProjects(){const t=document.querySelectorAll(".projectTitle");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(t=>{t.target.dataset.activeproject="true";const e=this.findProject(t.target.dataset.projectid);this.deactiveAllProjects(),e.setAsActiveProject()}))}};s.addEventListener("submit",(function(s){if(s.preventDefault(),function(){if("/"===i.value.split("")[0]){const t=i.value.slice(1),s=new e(t);return o.addProjectToList(s),s.setAsActiveProject(),i.value="",!0}}())return;const c=new t(i.value);o.findActiveProject().addTaskToProject(c),i.value=""})),function(){const t=new e("Inbox");o.addProjectToList(t),t.setAsActiveProject()}(),c.addEventListener("click",(function(t){const e=o.findActiveProject(),s=t.target,i=e.getTaskInProject(s.dataset.taskid);s.classList.contains("checkbox-custom")&&function(t,e){"false"===t.dataset.checked?t.dataset.checked="true":t.dataset.checked="false",e.toggleComplete(),console.log(e)}(s,i)}))})();