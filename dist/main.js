(()=>{"use strict";class t{constructor(t,e,s,i){this.title=t,this.dueDate=s,this.id=Date.now().toString(),this.complete=!1}setTitle(t){this.title=t}getTitle(){return this.title}getId(){return this.id}setDueDate(t){this.dueDate=t}getDueDate(){return this.dueDate}getDOMElement(){return`<li class='taskItem'>\n                    <div class="checkbox-custom" data-checked="${this.complete}" data-taskid="${this.id}"></div>\n                    <p>${this.title}</p>\n                </li>`}}class e{constructor(t,e){this.title=t,this.tasks=[],this.id=Date.now().toString(),this.activeProject=!0}setTitle(t){this.title=t}getTitle(){return this.title}getTasks(){return this.tasks}addTaskToProject(t){this.tasks.push(t),this.addTasksToDOM()}addTasksToDOM(){const t=document.getElementById("container"),e=this.tasks.map((t=>`<li class='taskItem'>\n            <div class="checkbox-custom" data-checked="${t.complete}" data-taskid="${t.id}"></div>\n            <p>${t.title}</p>\n        </li>`)).join("");t.innerHTML=e,this.addEventListenersToCheckboxes()}addEventListenersToCheckboxes(){const t=document.querySelectorAll(".checkbox-custom");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(t=>{"false"===t.target.dataset.checked?t.target.dataset.checked="true":t.target.dataset.checked="false"}))}setAsActiveProject(){this.activeProject=!0;const t=document.getElementById("activeProject");t.setAttribute("data-activeProject",this.id),t.textContent=this.title,this.addTasksToDOM()}}const s=document.getElementById("new-task"),i=document.querySelector('[name="Title"]');s.addEventListener("submit",(function(s){if(s.preventDefault(),function(){if("/"===i.value.split("")[0]){const t=i.value.slice(1),s=new e(t);return c.addProjectToList(s),s.setAsActiveProject(),i.value="",!0}}())return;const o=new t(i.value),a=c.findActiveProject();a.addTaskToProject(o),console.log(a),i.value=""}));const c=new class{constructor(){this.projects=[]}findActiveProject(){const t=this.projects.findIndex((t=>!0===t.activeProject));return this.projects[t]}findProject(t){const e=this.projects.findIndex((e=>e.id===t));return this.projects[e]}addProjectToList(t){this.deactiveAllProjects(),this.projects.push(t),console.log(this.projects),this.updateProjectsSidebar(),t.activeProject=!0}deactiveAllProjects(){this.projects.map((t=>{t.activeProject=!1}))}updateProjectsSidebar(){const t=document.querySelector(".sideBarProjectsList"),e=this.projects.map((t=>`<li class="projectTitle" data-projectId="${t.id}" data-activeproject="${t.activeProject}">${t.title}</li>`)).join("");t.innerHTML=e,this.addEventListenersToProjects()}addEventListenersToProjects(){const t=document.querySelectorAll(".projectTitle");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(t=>{t.target.dataset.activeproject="true";const e=this.findProject(t.target.dataset.projectid);this.deactiveAllProjects(),e.setAsActiveProject()}))}},o=new e("Inbox");c.addProjectToList(o),o.setAsActiveProject()})();